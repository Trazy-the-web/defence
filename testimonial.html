<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="keywords" content="DOTA 2, —Ç—É—Ä–Ω–∏—Ä, –∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç, DOTA 2 BI CUP" />
  <meta name="description" content="–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç —Ç—É—Ä–Ω–∏—Ä–∞ DOTA 2 BI CUP. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –∫–æ–º–∞–Ω–¥—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞." />
  <meta name="author" content="" />

  <title>DOTA 2 BI CUP</title>

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.1.3/assets/owl.carousel.min.css" />
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
  <link href="https://fonts.googleapis.com/css?family=Baloo+Chettan|Dosis:400,600,700|Poppins:400,600,700&display=swap" rel="stylesheet" />
  <link href="css/style.css" rel="stylesheet" />
  <link href="css/responsive.css" rel="stylesheet" />

  <style>
    /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ç—É—Ä–Ω–∏—Ä–Ω–æ–π —Å–µ—Ç–∫–∏ */
#tournamentBracket {
  display: flex;
  justify-content: center;
  align-items: center;
  flex-wrap: nowrap;
  gap: 80px; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –∫–æ–ª–æ–Ω–∫–∞–º–∏ –≤ –¥–≤–∞ —Ä–∞–∑–∞ */
  margin-top: 20px;
}

/* –°—Ç–∏–ª—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞—É–Ω–¥–∞ */
.round {
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0 20px; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É —Ä–∞—É–Ω–¥–∞–º–∏ */
}

/* –°—Ç–∏–ª—å –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã */
table {
  border-collapse: collapse;
  margin: 10px 0;
  width: 100%; /* –®–∏—Ä–∏–Ω–∞ —Ç–∞–±–ª–∏—Ü—ã */
}

th, td {
  padding: 30px 45px; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —è—á–µ–µ–∫ –≤ –ø–æ–ª—Ç–æ—Ä–∞ —Ä–∞–∑–∞ */
  text-align: center;
  border: 1px solid #ccc;
  min-width: 200px; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É —è—á–µ–µ–∫ */
}

th {
  background-color: #f2f2f2;
}

td {
  background-color: #f9f9f9;
}

/* –°—Ç–∏–ª—å –¥–ª—è –º–∞—Ç—á–µ–π */
.match {
  display: flex;
  justify-content: space-between;
  padding: 20px; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ—Ç—Å—Ç—É–ø—ã –≤–Ω—É—Ç—Ä–∏ —è—á–µ–µ–∫ */
  margin: 15px 0; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –ø–∞—Ä–∞–º–∏ */
  border: 1px solid #ccc;
  background-color: #f9f9f9;
}

/* –ó–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç –¥–ª—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è */
.match.winner {
  background-color: #FFD700; /* –ó–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç */
  border-color: #FFC107; /* –ë–æ–ª–µ–µ —Ç–µ–º–Ω—ã–π –æ—Ç—Ç–µ–Ω–æ–∫ –∑–æ–ª–æ—Ç–æ–≥–æ */
  color: #000; /* –ß–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–ª—è –∫–æ–Ω—Ç—Ä–∞—Å—Ç–∞ */
}

.score {
  font-weight: bold;
}

/* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Ä–∞—É–Ω–¥–∞ */
.round-header {
  text-align: center;
  font-weight: bold;
  margin-bottom: 20px; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
  font-size: 1.2em; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
}

/* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —á–µ–º–ø–∏–æ–Ω–∞ */
#championContainer {
  text-align: center;
  margin-top: 30px; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –æ—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É */
  font-size: 2em; /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
  font-weight: bold;
  color: #FFD700; /* –ó–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç –¥–ª—è —á–µ–º–ø–∏–æ–Ω–∞ */
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
}

/* –°—Ç–∏–ª—å –¥–ª—è —Ç–µ–∫—Å—Ç–∞ "–ü–æ–±–µ–¥–∏—Ç–µ–ª—å" */
#championContainer .match {
  background-color: transparent;
  border: none;
  color: #000; /* –ß–µ—Ä–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è —Ç–µ–∫—Å—Ç–∞ "–ü–æ–±–µ–¥–∏—Ç–µ–ª—å" */
  font-size: 1.5em;
  margin: 0;
}
  </style>
</head>

<body class="sub_page">
  <div class="hero_area">
    <div class="brand_box">
      <a class="navbar-brand" href="index.html">
        <span>DOTA 2 BI CUP</span>
      </a>
    </div>
  </div>

  <section class="nav_section">
    <div class="container">
      <div class="custom_nav2">
        <nav class="navbar navbar-expand custom_nav-container ">
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="d-flex  flex-column flex-lg-row align-items-center">
              <ul class="navbar-nav  ">
                <li class="nav-item active">
                  <a class="nav-link" href="index.html">–û —Ç—É—Ä–Ω–∏—Ä–µ <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="about.html">–ì—Ä—É–ø–ø–æ–≤–æ–π —ç—Ç–∞–ø </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="testimonial.html">–ü–ª–µ–π-–æ—Ñ—Ñ</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="fruit.html">–ö–æ–º–∞–Ω–¥—ã </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="contact.html">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤</a>
                </li>
              </ul>
              <form class="form-inline my-2 my-lg-0 ml-0 ml-lg-4 mb-3 mb-lg-0">
                <button class="btn  my-2 my-sm-0 nav_search-btn" type="submit">
                  <i class="fas fa-search"></i>
                </button>
              </form>
            </div>
          </div>
        </nav>
      </div>
    </div>
  </section>

  <section class="container">
    <div id="tournamentBracket"></div>
    <div id="championContainer"></div>
  </section>

  <section class="container-fluid footer_section">
    <p>
      &copy; <span id="displayYear"></span> All Rights Reserved By
      <a href="https://html.design/">T_razy</a>
    </p>
  </section>

  <script>
    const playoffSheetId = '12bJExUSCmVYkPB8zC4IFHeSky_GnYeof04j-h9JVcXQ';
    const playoffApiKey = 'AIzaSyBMVx7zOAhtQwQqHzi5F-9QkyQmFOi1rBI';
    const playoffRange = 'Sheet2!A2:E';

    async function fetchMatches() {
      try {
        const url = `https://sheets.googleapis.com/v4/spreadsheets/${playoffSheetId}/values/${playoffRange}?key=${playoffApiKey}`;
        const response = await fetch(url);
        if (!response.ok) {
          throw new Error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö!");
        }
        const data = await response.json();
        console.log(data); // –û—Ç–ª–∞–¥–∫–∞: –≤—ã–≤–æ–¥–∏–º –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–Ω—Å–æ–ª—å

        if (!data.values) {
          throw new Error("–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã!");
        }

        const matches = data.values;
        let rounds = {};
        let champion = null;

        matches.forEach(match => {
          const round = match[0];
          const team1 = match[1] || '???';
          const team2 = match[2] || '???';
          const winner = match[3] || '';
          const wins1 = match[4] ? match[4].split('-')[0] : '0';
          const wins2 = match[4] ? match[4].split('-')[1] : '0';

          if (round.toLowerCase() === '—Ñ–∏–Ω–∞–ª') {
            champion = winner;
          }

          if (!rounds[round]) {
            rounds[round] = [];
          }

          rounds[round].push({ team1, team2, winner, wins1, wins2 });
        });

        let bracketHTML = "";
        Object.keys(rounds).forEach(round => {
          bracketHTML += `<div class="round"><h4 class="round-header">${round}</h4>`;
          bracketHTML += '<table>';
          

          rounds[round].forEach(match => {
            let match1Class = match.team1 === match.winner ? 'match winner' : 'match';
            let match2Class = match.team2 === match.winner ? 'match winner' : 'match';

            bracketHTML += `    
              <tr>
                <td class="${match1Class}">
                  ${match.team1} <span class="score">${match.wins1}</span>
                </td>
                <td class="${match2Class}">
                  ${match.team2} <span class="score">${match.wins2}</span>
                </td>
              </tr>
            `;
          });
          bracketHTML += '</table>';
          bracketHTML += `</div>`;
        });

        document.getElementById("tournamentBracket").innerHTML = bracketHTML;

        if (champion) {
          document.getElementById("championContainer").innerHTML = `
            <div class="match">üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: ${champion} üèÜ</div>
          `;
        }
      } catch (error) {
        console.error(error);
        document.getElementById("tournamentBracket").innerHTML = "<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ç—É—Ä–Ω–∏—Ä–∞.</p>";
      }
    }

    fetchMatches();
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="js/custom.js"></script>
</body>

</html>