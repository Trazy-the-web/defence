<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="keywords" content="DOTA 2, —Ç—É—Ä–Ω–∏—Ä, –∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç, DOTA 2 BI CUP" />
  <meta name="description" content="–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç —Ç—É—Ä–Ω–∏—Ä–∞ DOTA 2 BI CUP. –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ, –∫–æ–º–∞–Ω–¥—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞." />
  <meta name="author" content="" />

  <title>DOTA 2 BI CUP</title>

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.1.3/assets/owl.carousel.min.css" />
  <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
  <link href="https://fonts.googleapis.com/css?family=Baloo+Chettan|Dosis:400,600,700|Poppins:400,600,700&display=swap" rel="stylesheet" />
  <link href="css/style.css" rel="stylesheet" />
  <link href="css/responsive.css" rel="stylesheet" />

  <style>
    /* –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Ç—É—Ä–Ω–∏—Ä–Ω–æ–π —Å–µ—Ç–∫–∏ */
    .bracket-container {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-wrap: nowrap;
      gap: 80px;
      margin-top: 20px;
    }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Ç–∫–∏ (–≤–∏–Ω–µ—Ä—ã –∏ –ª—É–∑–µ—Ä—ã) */
    .bracket-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    /* –°—Ç–∏–ª—å –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞—É–Ω–¥–∞ */
    .round {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0 20px;
    }

    /* –°—Ç–∏–ª—å –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã */
    table {
      border-collapse: collapse;
      margin: 10px 0;
      width: 100%;
      position: relative;
    }

    th,
    td {
      padding: 30px 45px;
      text-align: center;
      border: 1px solid #ccc;
      min-width: 200px;
      position: relative;
    }

    th {
      background-color: #f2f2f2;
    }

    td {
      background-color: #f9f9f9;
    }

    /* –°—Ç–∏–ª—å –¥–ª—è –º–∞—Ç—á–µ–π */
    .match {
      display: flex;
      justify-content: space-between;
      padding: 20px;
      margin: 15px 0;
      border: 1px solid #ccc;
      background-color: #f9f9f9;
    }

    /* –ó–æ–ª–æ—Ç–æ–π —Ü–≤–µ—Ç –¥–ª—è –ø–æ–±–µ–¥–∏—Ç–µ–ª—è */
    .match.winner {
      background-color: #FFD700;
      border-color: #FFC107;
      color: #000;
    }

    .score {
      font-weight: bold;
    }

    /* –¶–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Ä–∞—É–Ω–¥–∞ */
    .round-header {
      text-align: center;
      font-weight: bold;
      margin-bottom: 20px;
      font-size: 1.2em;
    }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —á–µ–º–ø–∏–æ–Ω–∞ */
    #championContainer {
      text-align: center;
      margin-top: 30px;
      font-size: 2em;
      font-weight: bold;
      color: #FFD700;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }

    /* –°—Ç–∏–ª—å –¥–ª—è —Ç–µ–∫—Å—Ç–∞ "–ü–æ–±–µ–¥–∏—Ç–µ–ª—å" */
    #championContainer .match {
      background-color: transparent;
      border: none;
      color: #000;
      font-size: 1.5em;
      margin: 0;
    }

    /* –°—Ç–∏–ª—å –¥–ª—è –Ω–∞–¥–ø–∏—Å–∏ "ELIMINATED" */
    .eliminated {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%) rotate(-30deg);
      font-size: 28px;
      font-weight: bold;
      color: red;
      opacity: 0.7;
      pointer-events: none;
      z-index: 1;
    }
	h2 {
  text-align: center;
  font-size: 40px; 
  font-weight: bold; 
}
  </style>
</head>

<body class="sub_page">
  <div class="hero_area">
    <div class="brand_box">
      <a class="navbar-brand" href="index.html">
        <span>DOTA 2 BI CUP</span>
      </a>
    </div>
  </div>

  <section class="nav_section">
    <div class="container">
      <div class="custom_nav2">
        <nav class="navbar navbar-expand custom_nav-container ">
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <div class="d-flex  flex-column flex-lg-row align-items-center">
              <ul class="navbar-nav  ">
                <li class="nav-item active">
                  <a class="nav-link" href="index.html">–û —Ç—É—Ä–Ω–∏—Ä–µ <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="about.html">–ì—Ä—É–ø–ø–æ–≤–æ–π —ç—Ç–∞–ø </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="testimonial.html">–ü–ª–µ–π-–æ—Ñ—Ñ</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="fruit.html">–ö–æ–º–∞–Ω–¥—ã </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="contact.html">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="MVP.html">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–≥—Ä–æ–∫–æ–≤</a>
                </li>
              </ul>
              <form class="form-inline my-2 my-lg-0 ml-0 ml-lg-4 mb-3 mb-lg-0">
                <i class="fas fa-search"></i>
              </form>
            </div>
          </div>
        </nav>
      </div>
    </div>
  </section>
<p> </p>
  <section class="container">
    <h2>–¢–∞–±–ª–∏—Ü–∞ –≤–∏–Ω–µ—Ä–æ–≤</h2>
    <div class="bracket-wrapper">
      <div id="tournamentBracket" class="bracket-container"></div>
    </div>

    <h2>–¢–∞–±–ª–∏—Ü–∞ –ª—É–∑–µ—Ä–æ–≤</h2>
    <div class="bracket-wrapper">
      <div id="losersBracket" class="bracket-container"></div>
    </div>

    <div id="championContainer"></div>
  </section>

  <section class="container-fluid footer_section">
    <p>
      &copy; <span id="displayYear"></span> All Rights Reserved By
      <a href="https://html.design/">T_razy</a>
    </p>
  </section>

  <script>
    const sheetId = '12bJExUSCmVYkPB8zC4IFHeSky_GnYeof04j-h9JVcXQ';
    const apiKey = 'AIzaSyBMVx7zOAhtQwQqHzi5F-9QkyQmFOi1rBI';
    const winnersRange = '–ü–ª–µ–π-–æ—Ñ—Ñ!A2:E'; // –î–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è –≤–∏–Ω–µ—Ä–æ–≤
    const losersRange = '–ü–ª–µ–π-–æ—Ñ—Ñ!G2:K'; // –î–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è –ª—É–∑–µ—Ä–æ–≤
    const grandFinalRange = '–ü–ª–µ–π-–æ—Ñ—Ñ!M2:Q2'; // –î–∏–∞–ø–∞–∑–æ–Ω –¥–ª—è –≥—Ä–∞–Ω–¥-—Ñ–∏–Ω–∞–ª–∞

    async function fetchData(range) {
      const url = `https://sheets.googleapis.com/v4/spreadsheets/${sheetId}/values/${range}?key=${apiKey}`;
      const response = await fetch(url);
      if (!response.ok) throw new Error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö!");
      const data = await response.json();
      if (!data.values) throw new Error("–î–∞–Ω–Ω—ã–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã!");
      return data.values;
    }

    function renderBracket(data, bracketId, isLosers = false) {
      let rounds = {};

      data.forEach(match => {
        const round = match[0];
        const team1 = match[1] || '???';
        const team2 = match[2] || '???';
        const winner = match[3] || '';
        const wins1 = match[4] ? match[4].split('-')[0] : '0';
        const wins2 = match[4] ? match[4].split('-')[1] : '0';

        if (!rounds[round]) rounds[round] = [];
        rounds[round].push({ team1, team2, winner, wins1, wins2 });
      });

      let bracketHTML = "";
      Object.keys(rounds).forEach(round => {
        bracketHTML += `<div class="round"><h4 class="round-header">${round}</h4>`;
        bracketHTML += '<table>';

        rounds[round].forEach(match => {
          let match1Class = match.team1 === match.winner ? 'match winner' : 'match';
          let match2Class = match.team2 === match.winner ? 'match winner' : 'match';

          bracketHTML += `    
            <tr>
              <td class="${match1Class}" ${isLosers && match.team1 !== match.winner && match.winner !== 'TBA' ? 'style="position: relative;"' : ''}>
                ${match.team1} <span class="score">${match.wins1}</span>
                ${isLosers && match.team1 !== match.winner && match.winner !== 'TBA' ? '<div class="eliminated">ELIMINATED</div>' : ''}
              </td>
              <td class="${match2Class}" ${isLosers && match.team2 !== match.winner && match.winner !== 'TBA' ? 'style="position: relative;"' : ''}>
                ${match.team2} <span class="score">${match.wins2}</span>
                ${isLosers && match.team2 !== match.winner && match.winner !== 'TBA' ? '<div class="eliminated">ELIMINATED</div>' : ''}
              </td>
            </tr>
          `;
        });
        bracketHTML += '</table></div>';
      });

      document.getElementById(bracketId).innerHTML = bracketHTML;
    }

    async function fetchMatches() {
      try {
        const winnersData = await fetchData(winnersRange);
        const losersData = await fetchData(losersRange);
        const grandFinalData = await fetchData(grandFinalRange);

        renderBracket(winnersData, 'tournamentBracket');
        renderBracket(losersData, 'losersBracket', true);

        // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–±–µ–¥–∏—Ç–µ–ª—è –≥—Ä–∞–Ω–¥-—Ñ–∏–Ω–∞–ª–∞
        if (grandFinalData.length > 0) {
          const grandFinalMatch = grandFinalData[0];
          const winner = grandFinalMatch[3] || '???';

          document.getElementById("championContainer").innerHTML = `
            <div class="match">üèÜ –ü–æ–±–µ–¥–∏—Ç–µ–ª—å: ${winner} üèÜ</div>
          `;
        }

        // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–¥–ø–∏—Å–∏ "ELIMINATED" –¥–ª—è –ø—Ä–æ–∏–≥—Ä–∞–≤—à–µ–π –∫–æ–º–∞–Ω–¥—ã –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å—Ç—Ä–æ–∫–µ —Å–µ—Ç–∫–∏ –≤–∏–Ω–µ—Ä–æ–≤
        const lastWinnersMatch = winnersData[winnersData.length - 1];
        if (lastWinnersMatch) {
          const team1 = lastWinnersMatch[1] || '???';
          const team2 = lastWinnersMatch[2] || '???';
          const winner = lastWinnersMatch[3] || '';

          const tournamentBracket = document.getElementById("tournamentBracket");
          const lastMatchCells = tournamentBracket.querySelectorAll(".round:last-child .match");

          lastMatchCells.forEach(cell => {
            if (cell.textContent.includes(team1) && team1 !== winner && winner !== 'TBA') {
              cell.style.position = "relative";
              cell.innerHTML += `<div class="eliminated">ELIMINATED</div>`;
            }
            if (cell.textContent.includes(team2) && team2 !== winner && winner !== 'TBA') {
              cell.style.position = "relative";
              cell.innerHTML += `<div class="eliminated">ELIMINATED</div>`;
            }
          });
        }
      } catch (error) {
        console.error(error);
        document.getElementById("tournamentBracket").innerHTML = "<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Ç—É—Ä–Ω–∏—Ä–∞.</p>";
        document.getElementById("losersBracket").innerHTML = "<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ª—É–∑–µ—Ä–æ–≤.</p>";
        document.getElementById("championContainer").innerHTML = "<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≥—Ä–∞–Ω–¥-—Ñ–∏–Ω–∞–ª–∞.</p>";
      }
    }

    fetchMatches();
  </script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
  <script src="js/jquery-3.4.1.min.js"></script>
  <script src="js/bootstrap.js"></script>
  <script src="js/custom.js"></script>
</body>

</html>